# Копирование объектов и ссылки

Переменная хранит не сам объект, а его «адрес в памяти», другими словами «ссылку» на него.

Когда переменная объекта копируется – копируется ссылка, сам же объект не дублируется.

Два объекта равны только в том случае, если это один и тот же объект.

## Клонирование и объединение объектов, Object.assign

При копировании переменной с объектом создаётся ещё одна ссылка на тот же самый объект.

Чтобы дублировать объект, нужно создать новый объект и повторить структуру дублируемого объекта, перебирая его свойства и копируя их.

```
  let user = {
    name: "Иван",
    age: 30
  };

  let clone = {}; // новый пустой объект

  // скопируем все свойства user в него
  for (let key in user) {
    clone[key] = user[key];
  }
```

Также можно использовать **Object.assign**.

```
  Object.assign(dest, [src1, src2, src3...])
```

- Первый аргумент - целевой объект (объект куда будут записываться копироваться другие объекты)
- Остальные аргументы src1, ..., srcN (может быть столько, сколько нужно) являются исходными объектами
- Метод копирует свойства всех исходных объектов **src1, ..., srcN** в объект **dest**
- Возвращает объект **dest**.

Если принимающий объект имеет свойство с таким же именем, то оно будет перезаписано

## Вложенное клонирование

Если стоит задача скопировать объект с вложенными объектами, то **Object.assing** будет недостаточно. Чтобы клонировать всю структуру, нужно проверять не является ли значение объектом, если это так, то нужно клонировать и его структуру тоже. Это называется "глубокое клонирование"(deep clone).