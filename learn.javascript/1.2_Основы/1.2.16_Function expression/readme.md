# Function Expression

Функция в JavaScript - Это не магическая языкова структура, а особого типа значение.

Синтаксис из прошлой главы, называется Function Declaration (Объявление функции):

```
  function sayHi() {
    alert( "Привет" );
  }
```

Существует еще один синтаксис создания функций, который называется Function Expression (функциональное выражение).

Выглядит так:

```
  let sayHi = function() {
    alert( "Привет" );
  };
```

В коде функция создается и явно присваивается переменной, как любое другое значение. По сути без разницы, как мы определили функцию, это просто значение, хранимое в переменной sayHi.

Смысл обоих примеров кода одинаков: "создать функцию и поместить ее значение в переменную sayHi".

Мы можем даже вывести это значение с помощью **alert**:

```
  function sayHi() {
    alert( "Привет" );
  }

  alert( sayHi ); // выведет код функции
```

Последняя строка не вызывает функцию, после ее имени нет круглых скобок. 

В JS функции - это значения, поэтому мы и обращаемся с ними, как со значениями. Код выше выведет строковое представление функции, которое является ее исходным кодом.

Конечно, функция - не обычное значение, в том смысле, что мы можем вызваеть его при помощи скобок.

Но все же это значение. Поэтому мы можем делать с ним то же самое, что и с любым другим значение.

Например скопировать функцию в другую переменную:

```
  function sayHi() {   // (1) создаём
    alert( "Привет" );
  }

  let func = sayHi;    // (2) копируем

  func(); // Привет    // (3) вызываем копию (работает)!
  sayHi(); // Привет   //     прежняя тоже работает (почему бы нет)
```

Давайте разберем подробно, что тут произошло

1. Объявление Function Declaration (1) создало функцию и присвоило ее переменной с имене sayHi
2. В строке 2 мы скопировали значение переменной sayHi в переменную func. Если бы были круглые скобки, то в переменную записало бы результат вызова функции в переменную func, а не саму функцию sayHi
3. Теперь функция может быть вызвана с помощью обеих переменных.

Также можно было бы использовать и Function Expression для того, чтобы создать sayHi в первой строке:

```
  let sayHi = function() {
    alert( "Привет" );
  };

  let func = sayHi;
  // ...
```

Результат был бы таким же.

### Зачем нужна точка с запятой в конце?

- Нет необходимости в ; в конце блоков кода и синтаксических конструкций, которые их используют, таких как if { ... }, for { }, function f { } и т.д.
- Function Expression использует внутри себя инструкции присваивания как значение. Это не блок кода, а выражение с присваиванием. Таким образом, точка с запятой не относится непосредственно к Function Expression, она лишь завершает инструкцию.

## Функции-«колбэки»

Идея колбэков в том, что мы передаем функцию и ожидаем, что она вызовется обратно когда-нибудь позже, если это будет необходимо.

### Функция - это значение, представляющее "действие"

Обычные значения, такие как строки или числа представляют собой данные.

Функции, с другой стороны, можно воспринимать как «действия».

Мы можем передавать их из переменной в переменную и запускать, когда захотим.

## Function Expression в сравнении с Function Declaration

Во-первых, синтаксис: как определить, что есть что в коде.

- Function Declaration: функция объявляется отдельной конструкцией "function..." в основном потоке кода.

- Function Expression: функция, созданная внутри другого выражения или синтаксической конструкции, например создается в правой части, после присваивания.

Более тонкое отличие состоит, в том, когда создаётся функция движком JavaScript.

Function Expression создается, когда выполнение доходит до него, и затем уже может использоваться.

Function Declaration можно использовать во всем скрипте (или блоке кода, если функция объявлена в блоке)

Другими словами, когда движок JavaScript готовится выполнять скрипт или блок кода, прежде всего он ищет в нём Function Declaration и создаёт все такие функции. Можно считать этот процесс «стадией инициализации».

И только после того, как все объявления Function Declaration будут обработаны, продолжится выполнение.

Функции, объявленные при помощи Function Expression, создаются тогда, когда выполнение доходит до них.

В строгом режиме, когда Function Declaration находится в блоке {...}, функция доступна везде внутри блока. Но не снаружи него.

### Когда использовать Function Declaration, а когда Function Expression?

Как правило, если нам понадобилась функция, в первую очередь нужно рассматривать синтаксис Function Declaration, который мы использовали до этого. Он даёт нам больше свободы в том, как мы можем организовывать код. Функции, объявленные таким образом, можно вызывать до их объявления.