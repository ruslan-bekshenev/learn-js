# Базовые операторы, математика

## Термины: «унарный», «бинарный», «операнд»

**Операнд** - то, к чему применяется оператор. Например **5 * 2**, где **5** и **2** являются операндами

**Унарным** называется оператор, который применяется к одному операнду

```
 let x = 1;

 x = -x
```

**Бинарным** называют оператор, который применяется к двум операндам

```
  let x = 1, y = 2;

  console.log (x + y);
```

## Математика

<ul>
  <li>
    Сложение (+)
  </li>
  <li>
    Вычитание (-)
  </li>
  <li>
    Умножение (*)
  </li>
  <li>
    Деление (/)
  </li>
  <li>
    Взятие остатка от деления (%)
  </li>
  <li>
    Возведение в степень (**)
  </li>
</ul>

## Взятие остатка %

Не имеет никакого отношения к процентам, результатом будет остаток от деления

## Возведение в степень **

В выражении **a ** b** оператор возведения в степень умножает **a** на само себя **b** раз.

## Сложение строк при помощи бинарного +

Если бинарный оператор **+** применить к строкам, то он объединит их в одну строку.

```
  let str = "моя" + "строка" // моястрока
```

Если в выражении хотя бы один операнд является строкой, то второй будет также преобразован в строку:

```
  console.log('1' + 2); // "12"
  console.log(1 + '2') // "12"
  console.log(2 + 2 + '1') // "41" 
```

В последнем примере операторы работают один за другим. Поэтому первые 2 числа складываются между собой, затем следующий оператор объединяет результат со строкой.

Сложение и преобразование строк - это особенность бинарного плюса **+**. Другие операторы преобразуют операнды в числа.

```
  console.log(6 - '2') // 4, '2' преобразуется в число
  console.log('6' / '2') // 3, оба операнда преобразуются в число
```


## Приведение к числу, унарный +

Унарный + ничего не делает с числовым операндом. Но если операнд не число, то унарный плюс преоразует его в число.

```
  // Не влияет на числа
  let x = 1;
  console.log( +x ); // 1

  let y = -2;
  console.log( +y ); // -2

  // Преобразует не числа в числа
  console.log( +true ); // 1
  console.log( +"" );   // 0
```

На самом деле это то же самое, что и Number(...), только короче.

```
let apples = "2";
let oranges = "3";

// оба операнда предварительно преобразованы в числа
console.log( +apples + +oranges ); // 5

// более длинный вариант
// console.log( Number(apples) + Number(oranges) ); // 5
```

Из примера выше сначала выполнятся унарные плюсы, которые преобразуют строки в числа, далее идет бинарный плюс, который сложит эти числа.

## Приоритет операторов

В случае, если в выражении имеется несколько операторов - порядок их выполнения определяется приоритетом, другими словам, существует определенный порядок выполнения приоритетов.

Скобки важнее, чем приоритет, поэтому если вы неудовлетворены порядком по умолчанию, можно использовать их, чтобы изменит приоритет.

В JS много операторов, каждый из которых имеет свой номер приоритета. Чье числов больше - тот и выполнится раньше. Если приоритет одинаковый, то порадок выполнения будет слева направо.

Таблица приоритетов https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/Operator_Precedence#table

## Присваивание

У оператора присваивания (=) один из самых низких приоритетов: 3. Поэтому когда переменной присваивают какое-либо выражение, то сначала вычислится выражение, а потом выполнится присваивание с сохранением результата в переменную.

## Присваивание = возвращает значение

Большинство операторов в JS возвращают значение. Оператор "=" не является исключением.

Вызов <b>x = value</b> записывает <b>value</b> и <b>x</b> возвращает его.

## Присваивание по цепочке

```
  let a, b, c;

  a = b = c = 2 + 2;

  console.log( a ); // 4
  console.log( b ); // 4
  console.log( c ); // 4
```

Такое присваивание работает справа налево. Сначала вычисляется самое правое выражение <b>2+2</b>, затем результат присваивается переменным слева: <b>c</b>, <b>b</b> и <b>a</b>. В конце у всех переменных будет одно значение. 

## Сокращённая арифметика с присваиванием

Часто нужно применить оператор к переменной и сохранить результат в ней же.

```
  let n = 2;
  n = n + 5;
  n = n * 2;
```

Данную запись можно сократить с помощью совмещенных операторов <b>+=</b> и <b>*=</b>:

``` 
  let n = 2;
  n += 5; // теперь n = 7 (работает как n = n + 5)
  n *= 2; // теперь n = 14 (работает как n = n * 2)
```

Такие краткие формы существуют для всех арифметических и побитовых операторов.

Вызов с присваиванием имеет в точности такой же приоритет, как и обычное присваивание.

## Инкремент/декремент

Инкремент (++) увеличивает переменную на 1
Дикремент (--) уменьшает переменную на 1

Можно использовать только для переменной, попытка применить к числу вызовет ошибку.

Операторы **++** или **--** могут быть расположены не только после (постфиксная форма) переменной, но и до (префиксная форма).

Постфиксная форма увеличивает на 1, но возвращает старое значение
Префиксная форма также увеличивает на 1, только возвращает уже новое значение.

Операторы **++/--** могут также использоваться в выражениях. Их приоритет выше, чем у большинства других арифметических операций.

## Побитовые операторы

Побитовые операторы работают с 32-разрядными целыми числами (при необходимости приводят к ним), на уровне их внутреннего двоичного представления.

### Поддерживаются следующие побитовые операторы:

- AND(и) ( & )
- OR(или) ( | )
- XOR(побитовое исключающее или) ( ^ )
- NOT(не) ( ~ )
- LEFT SHIFT(левый сдвиг) ( << )
- RIGHT SHIFT(правый сдвиг) ( >> )
- ZERO-FILL RIGHT SHIFT(правый сдвиг с заполнением нулями) ( >>> )

## Оператор «запятая»

Оператор "запятая" предоставляет возможность вычислять несколько выражений, разделяя их запятой. Каждое выражение выполняется, но возвращается результат только последнего.

```
  let a = (1 + 2, 3 + 4);

  console.log( a ); // 7 (результат вычисления 3 + 4)
```

Первое выражение **1 + 2** выполняется, а результат отбрасывается. Затем идёт **3 + 4**, выражение выполняется и возвращается результат.